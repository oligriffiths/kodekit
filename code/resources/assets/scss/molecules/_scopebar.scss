/* ==========================================================================
   Scopebar
   ========================================================================== */

/**
<!-- Scopebar -->
<div class="k-scopebar">

    <!-- Filters -->
    <div class="k-scopebar__item--fluid">

        <!-- Filter title -->
        <div class="k-scopebar__item k-scopebar__item--title">Filter:</div>

        <!-- Filter -->
        <div class="select2--link-style select2--filter">
            <select data-placeholder="Status">
                <option selected>--Status--</option>
                <option value="1">Published</option>
                <option value="0">Unpublished</option>
            </select>
        </div>

        <!-- Search toggle button -->
        <button type="button" class="toggle-search">
            <span class="k-icon-magnifying-glass"></span>
            <span class="visually-hidden">Search</span>
        </button>
    </div>

    <!-- Search -->
    <div class="k-scopebar__item k-scopebar__search">
        <div class="search__container">
            <label for="search"><i class="icon-search"></i></label>
            <input type="search" name="search" class="search_button" placeholder="Find by title or descriptionâ€¦" value="">
            <a class="search_button--empty"><span>X</span></a>
        </div>
    </div>

</div><!-- .k-scopebar -->
*/

.k-scopebar {
  background: $scopebar-background;
  color: $scopebar-color;

  @include breakpoint($beta) {
    display: table;
    width: 100%;
  }
}


/**
 * When flexbox is in use
 *
 * 1. The scopebar container itself. Changes on global flexbox setting
 * 2. Flexing before global flexbox
 */

@include flexbox {

  /* 1 */

  .k-scopebar {
    width: auto;
    flex: 0 0 auto;
  }
}


/* 2 */

@include flexbox($horizontal: $beta) {

  .k-scopebar {
    display: flex;
    flex: 0 0 auto;
  }

  .k-scopebar__item {
    display: table-cell;
    flex: 0 0 auto;
  }

  .k-scopebar__search {
    flex: 0 1 auto;
  }


  /* Put at least one fluid item in every scopebar */

  .k-scopebar__item--fluid {
    flex: 1 1 auto;
  }
}


/* Scopebar filter title */

.k-scopebar__item--title {
  width: auto;
  padding: 0 .5em 0 1em;
  font-weight: bold;
  vertical-align: middle;
  font-size: 12px;
  line-height: 32px;
  display: inline-block;
}


/* Scopebar items */

.k-scopebar__item {
  @include border(bottom, $scopebar-border);
  vertical-align: middle;
}


/**
 * Scopebar search
 *
 * 1. Hide by default (when JS is enabled) so we can toggle it open
 * 2. Display as table cell on medium sized screens
 * 3. Display as block for flexbox on larger screens
 * 4. Set a minimum width so the fluid scopebar__item won't make search really small
 * 5. Search area items
 */

.k-scopebar__search {
  position: relative;
  min-width: 200px;

  @include js-enabled {
    display: none; /* 1 */

    @include breakpoint($beta) {
      display: table-cell; /* 2 */
    }

    @include breakpoint($desktop) {
      display: block; /* 3 */
    }
  }


  /* 4 */

  @include breakpoint($beta) {
    max-width: 320px;
  }


  /* 5 */

  .search__container {
    width: 100%;
  }

  label {
    display: none;
  }

  .search_button {
    @include reset;
    display: block;
    width: 100%;
    height: $scopebar-size;
    border-radius: 0;
    padding: $spacing-tiny;
    padding-right: $scopebar-size;
    background: $scopebar-search-background;
    color: $scopebar-search-color;
    box-shadow: none;
    -webkit-appearance: none;

    @include breakpoint($beta) {
      border-left: 1px solid $scopebar-border;
    }
  }

  .search_button--empty {
    position: absolute;
    top: 7px;
    right: 10px;
    font-size: 10px;
  }

}



/**
 * Search toggle button
 *
 * 1. Hide when search is visible
 */

.toggle-search {
  display: none;
  float: right;
  overflow: hidden;
  width: 33px;
  height: 0;
  margin: 0;
  border: none;
  padding: 0;
  padding-top: 33px;
  background: transparent;

  .k-icon-magnifying-glass {
    font-size: 16px;
    vertical-align: middle;
  }

  @include js-enabled {
    display: block;

    @include breakpoint($beta) {
      display: none; /* 1 */
    }
  }
}
