/* ==========================================================================
   Filter container
   ========================================================================== */

/**
<!-- filter container -->
<div class="k-filter-container">
    <div class="k-filter-group">
        <div class="k-filter">
            ...
        </div>
        <div class="k-filter k-filter--text">
            is
        </div>
        <div class="k-filter">
            ...
        </div>
    </div>
</div><!-- .k-filter-container -->
*/

/**
 * The container
 *
 * 1. Set font-size and line-height to zero for better inline-block spacing
      This way they line up perfectly
 */


.k-filter-container {
  @include border(bottom, $filter-container-border);
  position: relative;
  background: $filter-container-background;
  font-size: 0; /* 1 */
  line-height: 0; /* 1 */


  /* When flexbox is in use */

  @include flexbox($horizontal: $charlie) {
    display: flex;
    flex-direction: row;
    flex: 0 0 auto;
  }


  /* Hide when JS is enabled */

  @include js-enabled {
    display: none;
  }


  /* Show when it has a visible class */

  &.js-is-visible {
    display: block;


    /* When flexbox is in use */

    @include flexbox($horizontal: $charlie) {
      display: flex;
      align-items: center;
    }
  }
}



/**
 * Group in single item
 *
 * 1. Relative position for remove button psuedo element
 * 2. Inline block so different groups line up
 * 3. nowrap to keep items inside together
 * 4. Re-set font-size and line-height
 */

.k-filter-group {
  position: relative;
  display: inline-block;
  white-space: nowrap;
  padding: 5px;
  font-size: 12px;
  line-height: 12px;
}



/**
 * Individual filter
 *
 * Place them inline whenever there's room
 */

.k-filter {
  display: inline-block;
  vertical-align: middle;
}



/**
 * Filter text item
 *
 * Vertically center by making height and line-height as tall as select2 containers and inputs
 */

.k-filter--text {
  height: 22px;
  line-height: 22px;
  padding: 0 5px;

  /* Different padding for 'and' text */

  &--and {
    padding: 0 10px 0 5px;
  }
}



/**
 * Filter button item
 *
 * Vertically center by making height and line-height as tall as select2 containers and inputs
 * Slightly smaller line-height for better positioning
 */

.k-filter--button {
  height: 22px;
  line-height: 20px;
  padding: 0 5px;
}



/**
 * Erase area
 *
 * An area that appears when hovering the minus button to show what area you're going to remove
 *
 * 1. Cover complete parent
 * 2. Slightly black background
 * 3. Hide by default
 * 4. Set transition for smooth effect
 */


.k-filter-erase {
  @include coverall; /* 1 */
  background: rgba(0,0,0,.2); /* 2 */
  opacity: 0; /* 3 */
  z-index: -1; /* 3 */
  transition: $transition; /* 4 */
}



/**
 * Erase button
 *
 * 1. Set relative to be able to set z-index
 * 2. Set higher than erase area
 * 3. Custom hover for erase button because the default doesn't really show enough
 * 4. Display the erase area
 */

.btn-remove-filter {
  position: relative; /* 1 */
  z-index: 2; /* 2 */

  &:hover,
  &:focus {
    background: #f5f5f5; /* 3 */

    & + .k-filter-erase {
      opacity: 1; /* 4 */
      z-index: 1; /* 4 */
    }
  }
}
