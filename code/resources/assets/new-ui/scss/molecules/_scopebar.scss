/**
 * Default styles with JavaScript disabled
 * =======================================
 */

.k-scopebar {
  background: $scopebar-background;
  color: $scopebar-color;

  @include breakpoint($beta) {
    display: table;
    width: 100%;
  }
}



/**
 * When flexbox is in use
 * ======================
 * 1. The scopebar container itself. Changes on global flexbox setting
 * 2. Flexing before global flexbox
 */

@include flexbox { // 1
  .k-scopebar {
    width: auto;
    flex: 0 0 auto;
  }
}

@include flexbox($horizontal: $beta) { // 2
  .k-scopebar {
    display: flex;
    flex: 0 0 auto;
  }

  .k-scopebar__item {
    display: block;
    flex: 0 0 auto;
  }

  .k-scopebar__item--fluid {
    flex: 1 1 auto;
  }

  .k-scopebar__search {
    flex: 0 1 auto;
  }
}



/**
 * Scopebar contents
 * =================
 */

.k-scopebar {
  .select2,
  button {
    height: $unit-size;
    padding: 0 $spacing-tiny;
  }

  a {
    color: $scopebar-color;
    cursor: pointer;
  }

  .select2-selection__placeholder {
    color: $scopebar-color;
    opacity: .7;
  }

  .select2-container--default .select2-selection--single .select2-selection__arrow b {
    border-top-color: $scopebar-color;
    opacity: .7;
  }

  .select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b {
    border-bottom-color: $scopebar-color;
  }

  .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: $scopebar-color;
  }
}



/**
 * Scopebar items
 * ==============
 */
.k-scopebar__item {
  vertical-align: middle;
  width: 100%;
  @include border(bottom, $scopebar-border);

  @include breakpoint($beta) {
    display: table-cell;
  }
}



/**
 * Scopebar search
 * ---------------
 * 1. Hide by default so we can toggle it open
 * 2. Display as table cell on medium sized screens
 * 3. Display as block for flexbox on larger screens
 */

.k-scopebar__search {
  position: relative;
  min-width: 200px;
  display: none; // 1

  @include breakpoint($beta) {
    display: table-cell; // 2
    max-width: 320px;
  }

  @include breakpoint($desktop) {
    display: block; // 3
  }

  .search__container {
    width: 100%;
  }

  label {
    display: none;
  }

  .search_button {
    @include reset;
    -webkit-appearance: none;
    display: block;
    background: $scopebar-search-background;
    color: $scopebar-search-color;
    padding: $spacing-tiny;
    height: $scopebar-size;
    padding-right: $scopebar-size;
    border-radius: 0;
    width: 100%;
    box-shadow: none;

    @include breakpoint($beta) {
      border-left: 1px solid $scopebar-border;
    }
  }

  .search_button--empty {
    position: absolute;
    top: 7px;
    right: 10px;
    font-size: 10px;
  }

}



/**
 * Search toggle button
 * --------------------
 * 1. Hide when search is visible
 */

.toggle-search {
  float: right;

  @include breakpoint($beta) {
    display: none; // 1
  }
}